<?php


/*
 * Version: 1.0
 * Author: EL HAJJAMI JAWAD
 * Component : Reviews slider
 */


 vc_map(
    array(
        'name' => 'Reviews slider',
        'base' => 'reviews_slider',
        'icon' => 'icon-wpb-ui-empty_space',
        'category' => 'CHILDREN\'S KINGDOM | Components',
        'params' => array(
            array(
                'type' => 'param_group',
                'heading' => esc_html__('Review', 'childrens_kingdom'),
                'param_name' => 'reviews_array',
                'params' => array(
                    array(
                        'type' => 'dropdown',
                        'heading' => esc_html__('Star rating','childrens_kingdom'),
                        'value' => array(
                            __( '1 Star', 'childrens_kingdom' )    => '1',
                            __( '2 Stars', 'childrens_kingdom' )    => '2',
                            __( '3 Stars', 'childrens_kingdom' )  => '3',
                            __( '4 Stars', 'childrens_kingdom' )   => '4',
                            __( '5 Stars', 'childrens_kingdom' )   => '5'
                        ),
                        'param_name' => 'star_rating'
                    ),
                    array(
                        'type' => 'textarea',
                        'heading' => esc_html__('Review','childrens_kingdom'),
                        'param_name' => 'review_txt'
                    ),
                    array(
                        'type' => 'textfield',
                        'heading' => esc_html__('Reviewer name','childrens_kingdom'),
                        'param_name' => 'reviewer_name' 
                    )

                )
            ),
        )
    )
 );


if(!function_exists('reviews_slider')){
    function reviews_slider_output($atts, $content = null){
        
        $reviews_array = vc_param_group_parse_atts($atts['reviews_array']);

        $return = "<div class='reviews_slider'>";

        foreach($reviews_array as $r){
            $return .= "<div class='carousel-cell review_container'>";
                $return .= "<div class='Stars' style='--rating: ".$r['star_rating'].";'></div>";
                $return .= "<p class='w-50 m-auto mt-40 mb-40 opacity-70'>".$r['review_txt']."</p>";
                $return .= "<b class='text-dark-blue'>".$r['reviewer_name']."</b>";
            $return .= "</div>";
        }
        $return .= '<svg class="rocket" width="204" height="226" viewBox="0 0 204 226" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M137.845 136.49L137.685 136.798L137.708 137.144C138.994 157.089 134.823 177.613 124.527 196.334C121.479 189.719 117.747 183.38 113.399 177.443C115.31 175.084 117.132 172.607 118.827 170.009L118.831 170.004C119.599 168.812 120.371 167.569 121.11 166.335L121.545 165.608L121.032 164.935C112.369 153.57 101.347 143.69 88.2014 136.1C75.0158 128.488 60.9485 123.882 46.7237 122.06L45.8838 121.952L45.4723 122.692L45.4648 122.706C44.7783 123.94 44.0742 125.207 43.4398 126.492C42.0382 129.258 40.8049 132.073 39.7185 134.906C32.3916 134.125 25.0489 134.073 17.7928 134.721C28.9091 116.392 44.6307 102.507 62.5693 93.6579L62.8809 93.5042L63.0685 93.2118C66.5039 87.8559 70.2618 82.4891 74.5406 77.2207L74.5541 77.2041L74.567 77.1871C74.596 77.1488 74.6316 77.1066 74.6969 77.0306L74.7041 77.0221C74.7566 76.9609 74.8315 76.8737 74.9055 76.7775C89.8405 58.6124 111.276 41.8625 147.747 32.9638C152.366 48.7831 154.222 62.857 154.161 75.4981C154.066 91.678 150.848 105.58 146.197 117.963L146.19 117.982L146.183 118.002C146.155 118.085 146.124 118.165 146.083 118.271L146.08 118.279C146.045 118.372 146.001 118.486 145.957 118.612C143.549 124.921 140.764 130.84 137.845 136.49ZM110.233 72.0381C106.658 78.2301 108.782 86.1543 114.974 89.7293C121.166 93.3043 129.09 91.181 132.665 84.9889C136.24 78.7969 134.117 70.8727 127.925 67.2977C121.733 63.7227 113.808 65.846 110.233 72.0381Z" stroke="black" stroke-opacity="0.1" stroke-width="2.5"/>
        <path d="M59.3425 170.71L59.6862 168.452L57.5989 169.38L50.966 172.329L54.2384 134.96C54.2728 134.964 54.3079 134.969 54.3437 134.973C55.2257 135.089 56.5173 135.287 58.1361 135.61C61.3746 136.258 65.9162 137.409 71.1026 139.423C81.2627 143.368 93.8654 150.609 104.021 163.825L77.2596 191.609L77.9342 178.313L78.0669 175.697L75.9498 177.239L56.1542 191.659L59.3425 170.71Z" stroke="black" stroke-opacity="0.1" stroke-width="2.5"/>
        </svg>
        ';
        $return .= '<svg class="ballons" width="166" height="230" viewBox="0 0 166 230" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M61.3552 32.0801C88.9246 40.7212 103.121 70.1423 94.4796 97.3001C86.4557 122.195 62.5897 136.391 37.695 135.568C37.9007 135.774 38.1064 135.774 38.3122 135.98C39.9581 139.066 40.5753 142.563 41.604 145.649C42.0155 146.678 40.9868 147.913 39.9581 147.913C37.9007 147.707 35.8433 147.707 33.7859 147.501C33.7859 147.913 33.7859 148.324 33.3744 148.53C14.6519 157.994 39.5466 179.597 39.5466 193.176C39.5466 205.109 15.2691 216.013 22.0586 227.329C22.8816 228.769 20.8242 230.415 19.7954 228.975C16.0921 224.243 16.0921 219.305 19.384 214.367C21.0299 211.898 23.2931 210.046 25.3505 208.195C31.9342 202.64 31.9342 204.286 33.7859 195.027C35.4318 187.415 34.8146 185.769 31.317 179.391C26.1734 170.133 16.9151 153.056 30.9055 147.09C27.2021 147.295 23.9103 147.295 20.6184 146.884C19.384 146.884 18.3553 145.444 19.1782 144.209C21.4414 140.506 24.116 137.008 27.2021 133.922C1.27871 127.956 -2.83612 89.8935 1.48446 67.6734C6.83373 40.927 35.2261 23.8504 61.3552 32.0801ZM90.3648 96.2714C98.183 71.9939 86.2499 45.2476 61.9725 36.4007C38.5179 27.7595 11.5658 42.3672 5.80503 66.6447C0.661489 88.659 4.77632 123.635 29.2596 131.247C29.4653 131.247 29.671 131.247 29.8768 131.247C55.5945 134.745 82.1351 121.989 90.3648 96.2714ZM23.7045 143.592C28.2308 143.798 32.7572 144.209 37.2835 144.415C36.4605 141.946 35.6375 139.477 35.2261 136.803C35.2261 136.185 35.6375 135.774 36.049 135.568C33.7859 135.362 31.5227 135.157 29.2596 134.951C27.4079 137.831 25.5562 140.712 23.7045 143.592Z" fill="black" fill-opacity="0.1"/>
        <path d="M151.435 4.89694C161.794 10.1533 165.471 22.7623 160.242 32.9581C155.408 42.2975 145.002 46.343 135.185 44.3644C135.252 44.4596 135.334 44.4733 135.402 44.5685C135.85 45.9016 135.862 47.3295 136.066 48.6215C136.16 49.0568 135.671 49.478 135.263 49.4098C134.46 49.1916 133.645 49.0551 132.842 48.8369C132.815 49.0001 132.788 49.1633 132.611 49.2176C124.558 51.7279 132.997 61.9467 132.095 67.3314C131.303 72.0634 120.953 74.7761 122.894 79.714C123.125 80.3397 122.2 80.8558 121.887 80.2165C120.733 78.0942 121.06 76.1361 122.694 74.3966C123.51 73.5268 124.53 72.9427 125.469 72.345C128.449 70.5791 128.339 71.2318 129.688 67.6833C130.846 64.7739 130.711 64.0802 129.747 61.3189C128.322 57.3062 125.784 49.9201 131.727 48.4826C130.245 48.3184 128.94 48.0999 127.662 47.7183C127.172 47.6363 126.86 46.997 127.268 46.5621C128.411 45.2437 129.704 44.0343 131.133 43.0153C121.249 38.9288 122.143 23.5623 125.331 15.0378C129.228 4.7866 141.62 -0.100666 151.435 4.89694ZM158.679 32.2771C163.39 23.1688 160.433 11.7707 151.393 6.65121C142.666 1.66795 131.009 5.67176 127.113 14.9166C123.612 23.3049 122.923 37.4476 132.126 42.0912C132.208 42.1049 132.289 42.1185 132.371 42.1322C142.337 45.226 153.708 41.9292 158.679 32.2771ZM129.104 46.6177C130.885 46.9997 132.653 47.4633 134.434 47.8453C134.272 46.8116 134.109 45.778 134.124 44.6901C134.165 44.4453 134.355 44.3094 134.532 44.2552C133.648 44.0234 132.764 43.7916 131.88 43.5598C130.955 44.5791 130.03 45.5984 129.104 46.6177Z" fill="black" fill-opacity="0.1"/>
        </svg>
        ';

        $return .= "</div>";

        
        return $return;
    }
    add_shortcode('reviews_slider', 'reviews_slider_output');
}


?>